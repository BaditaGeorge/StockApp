{"ast":null,"code":"export function RetrieveApiData(setISymbols) {\n  async function retrieveData() {\n    const url = 'https://finnhub.io/api/v1/stock/ISymbol?exchange=US&token=bukfm8n48v6s9fns403g';\n    let resp = await fetch(url);\n    let data = await resp.json();\n    let ISymbolObjects = [];\n\n    for (let i = 0; i < data.length; i++) {\n      ISymbolObjects.push({\n        notation: data[i].ISymbol,\n        description: data[i].description\n      });\n    }\n\n    setISymbols(ISymbolObjects);\n  }\n\n  retrieveData();\n}\n_c = RetrieveApiData;\nexport function RetrieveISymbolData(setISymbolData, ISymbol, startDate, endDate) {\n  async function retrieveISymbolData() {\n    startDate = Math.floor(startDate.getTime() / 1000);\n    endDate = Math.floor(endDate.getTime() / 1000);\n    const url = `https://finnhub.io/api/v1/stock/candle?ISymbol=${ISymbol}&resolution=D&from=${startDate}&to=${endDate}&token=bukfm8n48v6s9fns403g`;\n    let resp = await fetch(url);\n    let data = await resp.json();\n    let ISymbolData = {\n      lowest: [],\n      highest: [],\n      close: []\n    };\n    ISymbolData.lowest = data.l;\n    ISymbolData.highest = data.h;\n\n    if (data.l !== undefined) {\n      for (let i = 0; i < data.l.length; i++) {\n        ISymbolData.close.push((data.l[i] + data.h[i]) / 2);\n      }\n    }\n\n    setISymbolData(ISymbolData);\n  }\n\n  retrieveISymbolData();\n}\n_c2 = RetrieveISymbolData;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RetrieveApiData\");\n$RefreshReg$(_c2, \"RetrieveISymbolData\");","map":{"version":3,"sources":["D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/src/utility/ApiData.tsx"],"names":["RetrieveApiData","setISymbols","retrieveData","url","resp","fetch","data","json","ISymbolObjects","i","length","push","notation","ISymbol","description","RetrieveISymbolData","setISymbolData","startDate","endDate","retrieveISymbolData","Math","floor","getTime","ISymbolData","lowest","highest","close","l","h","undefined"],"mappings":"AAIA,OAAO,SAASA,eAAT,CAAyBC,WAAzB,EAAyC;AAC5C,iBAAeC,YAAf,GAA6B;AACzB,UAAMC,GAAU,GAAG,gFAAnB;AACA,QAAIC,IAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA1B;AACA,QAAIG,IAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAArB;AACA,QAAIC,cAA6B,GAAG,EAApC;;AACA,SAAI,IAAIC,CAAQ,GAAG,CAAnB,EAAsBA,CAAC,GAAGH,IAAI,CAACI,MAA/B,EAAuCD,CAAC,EAAxC,EAA2C;AACvCD,MAAAA,cAAc,CAACG,IAAf,CAAoB;AAACC,QAAAA,QAAQ,EAACN,IAAI,CAACG,CAAD,CAAJ,CAAQI,OAAlB;AAA0BC,QAAAA,WAAW,EAACR,IAAI,CAACG,CAAD,CAAJ,CAAQK;AAA9C,OAApB;AACH;;AACDb,IAAAA,WAAW,CAACO,cAAD,CAAX;AACH;;AACDN,EAAAA,YAAY;AACf;KAZeF,e;AAchB,OAAO,SAASe,mBAAT,CAA6BC,cAA7B,EAAgDH,OAAhD,EAA+DI,SAA/D,EAA6EC,OAA7E,EAAyF;AAC5F,iBAAeC,mBAAf,GAAoC;AAChCF,IAAAA,SAAS,GAAGG,IAAI,CAACC,KAAL,CAAWJ,SAAS,CAACK,OAAV,KAAoB,IAA/B,CAAZ;AACAJ,IAAAA,OAAO,GAAGE,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,OAAR,KAAkB,IAA7B,CAAV;AACA,UAAMnB,GAAU,GAAI,kDAAiDU,OAAQ,sBAAqBI,SAAU,OAAMC,OAAQ,6BAA1H;AACA,QAAId,IAAI,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAtB;AACA,QAAIG,IAAI,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAjB;AACA,QAAIgB,WAAqB,GAAG;AAACC,MAAAA,MAAM,EAAC,EAAR;AAAWC,MAAAA,OAAO,EAAC,EAAnB;AAAsBC,MAAAA,KAAK,EAAC;AAA5B,KAA5B;AACAH,IAAAA,WAAW,CAACC,MAAZ,GAAqBlB,IAAI,CAACqB,CAA1B;AACAJ,IAAAA,WAAW,CAACE,OAAZ,GAAsBnB,IAAI,CAACsB,CAA3B;;AACA,QAAGtB,IAAI,CAACqB,CAAL,KAAWE,SAAd,EAAwB;AACpB,WAAI,IAAIpB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,IAAI,CAACqB,CAAL,CAAOjB,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5Bc,QAAAA,WAAW,CAACG,KAAZ,CAAkBf,IAAlB,CAAuB,CAACL,IAAI,CAACqB,CAAL,CAAOlB,CAAP,IAAUH,IAAI,CAACsB,CAAL,CAAOnB,CAAP,CAAX,IAAsB,CAA7C;AACH;AACJ;;AACDO,IAAAA,cAAc,CAACO,WAAD,CAAd;AACH;;AACDJ,EAAAA,mBAAmB;AACtB;MAlBeJ,mB","sourcesContent":["import {useState} from 'react';\r\nimport { setSourceMapRange } from 'typescript';\r\nimport {ISymbol,StockData} from '../models/Data';\r\n\r\nexport function RetrieveApiData(setISymbols:any){\r\n    async function retrieveData(){\r\n        const url:string = 'https://finnhub.io/api/v1/stock/ISymbol?exchange=US&token=bukfm8n48v6s9fns403g';\r\n        let resp:any = await fetch(url);\r\n        let data:any = await resp.json();\r\n        let ISymbolObjects:Array<ISymbol> = [];\r\n        for(let i:number = 0; i < data.length; i++){\r\n            ISymbolObjects.push({notation:data[i].ISymbol,description:data[i].description});\r\n        }\r\n        setISymbols(ISymbolObjects);\r\n    }\r\n    retrieveData();\r\n}\r\n\r\nexport function RetrieveISymbolData(setISymbolData:any,ISymbol:string,startDate:any,endDate:any){\r\n    async function retrieveISymbolData(){\r\n        startDate = Math.floor(startDate.getTime()/1000);\r\n        endDate = Math.floor(endDate.getTime()/1000);\r\n        const url:string = `https://finnhub.io/api/v1/stock/candle?ISymbol=${ISymbol}&resolution=D&from=${startDate}&to=${endDate}&token=bukfm8n48v6s9fns403g`;\r\n        let resp = await fetch(url);\r\n        let data = await resp.json();\r\n        let ISymbolData:StockData = {lowest:[],highest:[],close:[]};\r\n        ISymbolData.lowest = data.l;\r\n        ISymbolData.highest = data.h;\r\n        if(data.l !== undefined){\r\n            for(let i=0;i<data.l.length;i++){\r\n                ISymbolData.close.push((data.l[i]+data.h[i])/2);\r\n            }\r\n        }\r\n        setISymbolData(ISymbolData);\r\n    }\r\n    retrieveISymbolData();\r\n}"]},"metadata":{},"sourceType":"module"}