{"ast":null,"code":"import _slicedToArray from\"D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import TextField from'@material-ui/core/TextField';import{retrieveApiData}from'../../utility/ApiData';import{createSearchResults,mapSearchResults}from'../../utility/ProcessData';import{getSearchResultsContainerStyle,getTextFieldContainerStyle,getTextFieldStyle}from'../../styles/SearchStyle';export function Search(_ref){var setSymbolData=_ref.setSymbolData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),symbols=_useState2[0],setSymbols=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchContent=_useState4[0],setSearchContent=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];useEffect(function(){retrieveApiData(setSymbols);},[]);useEffect(function(){createSearchResults(symbols,searchContent,setSearchResults);},[searchContent]);var whenFocus=function whenFocus(){setIsFocused(true);};var whenBlur=function whenBlur(){setTimeout(function(){setIsFocused(false);},150);};var searchKeyUp=function searchKeyUp(e){setSearchContent(e.target.value);};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isFocused=_useState8[0],setIsFocused=_useState8[1];var cont=/*#__PURE__*/_jsx(\"div\",{style:getSearchResultsContainerStyle(),children:mapSearchResults(searchResults,setSymbolData)});if(isFocused===true){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:getTextFieldContainerStyle(),children:[/*#__PURE__*/_jsx(TextField,{onFocus:whenFocus,onBlur:whenBlur,onKeyUp:searchKeyUp,style:getTextFieldStyle(),label:\"Search\",type:\"search\",variant:\"outlined\"}),cont]})});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:getTextFieldContainerStyle(),children:/*#__PURE__*/_jsx(TextField,{onFocus:whenFocus,onBlur:whenBlur,style:getTextFieldStyle(),label:\"Search\",type:\"search\",variant:\"outlined\"})})});}}","map":{"version":3,"sources":["D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/src/Components/searchbar/Search.tsx"],"names":["React","useState","useEffect","TextField","retrieveApiData","createSearchResults","mapSearchResults","getSearchResultsContainerStyle","getTextFieldContainerStyle","getTextFieldStyle","Search","setSymbolData","symbols","setSymbols","searchContent","setSearchContent","searchResults","setSearchResults","whenFocus","setIsFocused","whenBlur","setTimeout","searchKeyUp","e","target","value","isFocused","cont"],"mappings":"wOAAA,MAAOA,CAAAA,KAAP,EAAqBC,QAArB,CAA8BC,SAA9B,KAAwE,OAAxE,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CAEA,OAAQC,eAAR,KAA8B,uBAA9B,CACA,OAAQC,mBAAR,CAA4BC,gBAA5B,KAAmD,2BAAnD,CAGA,OAAQC,8BAAR,CAAuCC,0BAAvC,CAAkEC,iBAAlE,KAA0F,0BAA1F,CAGA,MAAO,SAASC,CAAAA,MAAT,MAAkF,IAAjEC,CAAAA,aAAiE,MAAjEA,aAAiE,eAC1DV,QAAQ,CAAiB,EAAjB,CADkD,wCAChFW,OADgF,eACxEC,UADwE,8BAE9CZ,QAAQ,CAAS,EAAT,CAFsC,yCAEhFa,aAFgF,eAElEC,gBAFkE,8BAG9Cd,QAAQ,CAAiB,EAAjB,CAHsC,yCAGhFe,aAHgF,eAGlEC,gBAHkE,eAIrFf,SAAS,CAAC,UAAI,CACVE,eAAe,CAACS,UAAD,CAAf,CACH,CAFQ,CAEP,EAFO,CAAT,CAGAX,SAAS,CAAC,UAAI,CACVG,mBAAmB,CAACO,OAAD,CAASE,aAAT,CAAuBG,gBAAvB,CAAnB,CACH,CAFQ,CAEP,CAACH,aAAD,CAFO,CAAT,CAGA,GAAII,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAS,CACrBC,YAAY,CAAC,IAAD,CAAZ,CACH,CAFD,CAGA,GAAIC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAS,CACpBC,UAAU,CAAC,UAAI,CACXF,YAAY,CAAC,KAAD,CAAZ,CACH,CAFS,CAER,GAFQ,CAAV,CAIH,CALD,CAMA,GAAIG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAc,CAC5BR,gBAAgB,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CACH,CAFD,CAnBqF,eAsBtDxB,QAAQ,CAAC,KAAD,CAtB8C,yCAsBhFyB,SAtBgF,eAsBtEP,YAtBsE,eAuBrF,GAAIQ,CAAAA,IAAI,cAAG,YAAK,KAAK,CAAEpB,8BAA8B,EAA1C,UAA+CD,gBAAgB,CAACU,aAAD,CAAeL,aAAf,CAA/D,EAAX,CACA,GAAGe,SAAS,GAAK,IAAjB,CAAsB,CAClB,mBACI,kCACI,aAAK,KAAK,CAAElB,0BAA0B,EAAtC,wBACI,KAAC,SAAD,EAAW,OAAO,CAAEU,SAApB,CAA+B,MAAM,CAAEE,QAAvC,CAAiD,OAAO,CAAEE,WAA1D,CAAuE,KAAK,CAAEb,iBAAiB,EAA/F,CAAmG,KAAK,CAAC,QAAzG,CAAkH,IAAI,CAAC,QAAvH,CAAgI,OAAO,CAAC,UAAxI,EADJ,CAEKkB,IAFL,GADJ,EADJ,CAQH,CATD,IASK,CACD,mBACI,kCACI,YAAK,KAAK,CAAEnB,0BAA0B,EAAtC,uBACI,KAAC,SAAD,EAAW,OAAO,CAAEU,SAApB,CAA+B,MAAM,CAAEE,QAAvC,CAAiD,KAAK,CAAEX,iBAAiB,EAAzE,CAA6E,KAAK,CAAC,QAAnF,CAA4F,IAAI,CAAC,QAAjG,CAA0G,OAAO,CAAC,UAAlH,EADJ,EADJ,EADJ,CAOH,CACJ","sourcesContent":["import React,{useRef,useState,useEffect, Dispatch, SetStateAction} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {retrieveApiData} from '../../utility/ApiData';\r\nimport {createSearchResults,mapSearchResults} from '../../utility/ProcessData';\r\nimport { createImportSpecifier } from 'typescript';\r\nimport {ISymbol} from '../../models/StockDataInterfaces';\r\nimport {getSearchResultsContainerStyle,getTextFieldContainerStyle,getTextFieldStyle} from '../../styles/SearchStyle';\r\n\r\n\r\nexport function Search({setSymbolData}:{setSymbolData:Dispatch<SetStateAction<ISymbol>>}){\r\n    let [symbols,setSymbols] = useState<Array<ISymbol>>([]);\r\n    let [searchContent,setSearchContent] = useState<string>('');\r\n    let [searchResults,setSearchResults] = useState<Array<ISymbol>>([]);\r\n    useEffect(()=>{\r\n        retrieveApiData(setSymbols);\r\n    },[]);\r\n    useEffect(()=>{\r\n        createSearchResults(symbols,searchContent,setSearchResults);\r\n    },[searchContent]); \r\n    let whenFocus = ():void=>{\r\n        setIsFocused(true);\r\n    };\r\n    let whenBlur = ():void=>{\r\n        setTimeout(()=>{\r\n            setIsFocused(false);\r\n        },150);\r\n        \r\n    };\r\n    let searchKeyUp = (e:any):void=>{\r\n        setSearchContent(e.target.value);\r\n    };\r\n    let [isFocused,setIsFocused] = useState(false);\r\n    let cont = <div style={getSearchResultsContainerStyle()}>{mapSearchResults(searchResults,setSymbolData)}</div>;\r\n    if(isFocused === true){\r\n        return (\r\n            <div>\r\n                <div style={getTextFieldContainerStyle()}>\r\n                    <TextField onFocus={whenFocus} onBlur={whenBlur} onKeyUp={searchKeyUp} style={getTextFieldStyle()} label='Search' type='search' variant='outlined'/> \r\n                    {cont}\r\n                </div>\r\n            </div>\r\n        );\r\n    }else{\r\n        return (\r\n            <div>\r\n                <div style={getTextFieldContainerStyle()}>\r\n                    <TextField onFocus={whenFocus} onBlur={whenBlur} style={getTextFieldStyle()} label='Search' type='search' variant='outlined'/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}