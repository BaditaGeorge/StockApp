{"ast":null,"code":"import _regeneratorRuntime from\"D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export function RetrieveApiData(setSymbols){function retrieveData(){return _retrieveData.apply(this,arguments);}function _retrieveData(){_retrieveData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,resp,data,symbolObjects,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bukfm8n48v6s9fns403g';_context.next=3;return fetch(url);case 3:resp=_context.sent;_context.next=6;return resp.json();case 6:data=_context.sent;symbolObjects=[];for(i=0;i<data.length;i++){symbolObjects.push({symbol:data[i].symbol,description:data[i].description});}setSymbols(symbolObjects);case 10:case\"end\":return _context.stop();}}},_callee);}));return _retrieveData.apply(this,arguments);}retrieveData();}export function RetrieveSymbolData(setSymbolData,symbol,startDate,endDate){function retrieveSymbolData(){return _retrieveSymbolData.apply(this,arguments);}function _retrieveSymbolData(){_retrieveSymbolData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,resp,data,symbolData,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:startDate=Math.floor(startDate.getTime()/1000);endDate=Math.floor(endDate.getTime()/1000);url=\"https://finnhub.io/api/v1/stock/candle?symbol=\".concat(symbol,\"&resolution=D&from=\").concat(startDate,\"&to=\").concat(endDate,\"&token=bukfm8n48v6s9fns403g\");_context2.next=5;return fetch(url);case 5:resp=_context2.sent;_context2.next=8;return resp.json();case 8:data=_context2.sent;symbolData={};symbolData.low=data.l;symbolData.hgh=data.h;symbolData.curr=[];if(data.l!==undefined){for(i=0;i<data.l.length;i++){symbolData.curr.push((data.l[i]+data.h[i])/2);}}setSymbolData(symbolData);case 15:case\"end\":return _context2.stop();}}},_callee2);}));return _retrieveSymbolData.apply(this,arguments);}retrieveSymbolData();}","map":{"version":3,"sources":["D:/work/ReactTraining/stock/host/stockapp.github.io/stock-app/src/utility/ApiData.tsx"],"names":["RetrieveApiData","setSymbols","retrieveData","url","fetch","resp","json","data","symbolObjects","i","length","push","symbol","description","RetrieveSymbolData","setSymbolData","startDate","endDate","retrieveSymbolData","Math","floor","getTime","symbolData","low","l","hgh","h","curr","undefined"],"mappings":"6RAGA,MAAO,SAASA,CAAAA,eAAT,CAAyBC,UAAzB,CAAwC,SAC5BC,CAAAA,YAD4B,8IAC3C,qKACUC,GADV,CACuB,+EADvB,uBAEqBC,CAAAA,KAAK,CAACD,GAAD,CAF1B,QAEQE,IAFR,qCAGqBA,CAAAA,IAAI,CAACC,IAAL,EAHrB,QAGQC,IAHR,eAIQC,aAJR,CAImC,EAJnC,CAKI,IAAQC,CAAR,CAAmB,CAAnB,CAAsBA,CAAC,CAAGF,IAAI,CAACG,MAA/B,CAAuCD,CAAC,EAAxC,CAA2C,CACvCD,aAAa,CAACG,IAAd,CAAmB,CAACC,MAAM,CAACL,IAAI,CAACE,CAAD,CAAJ,CAAQG,MAAhB,CAAuBC,WAAW,CAACN,IAAI,CAACE,CAAD,CAAJ,CAAQI,WAA3C,CAAnB,EACH,CACDZ,UAAU,CAACO,aAAD,CAAV,CARJ,uDAD2C,+CAW3CN,YAAY,GACf,CAED,MAAO,SAASY,CAAAA,kBAAT,CAA4BC,aAA5B,CAA8CH,MAA9C,CAA4DI,SAA5D,CAA0EC,OAA1E,CAAsF,SAC1EC,CAAAA,kBAD0E,gKACzF,uKACIF,SAAS,CAAGG,IAAI,CAACC,KAAL,CAAWJ,SAAS,CAACK,OAAV,GAAoB,IAA/B,CAAZ,CACAJ,OAAO,CAAGE,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,OAAR,GAAkB,IAA7B,CAAV,CACMlB,GAHV,yDAGwES,MAHxE,+BAGoGI,SAHpG,gBAGoHC,OAHpH,uDAIqBb,CAAAA,KAAK,CAACD,GAAD,CAJ1B,QAIQE,IAJR,uCAKqBA,CAAAA,IAAI,CAACC,IAAL,EALrB,QAKQC,IALR,gBAMQe,UANR,CAMyB,EANzB,CAOIA,UAAU,CAACC,GAAX,CAAiBhB,IAAI,CAACiB,CAAtB,CACAF,UAAU,CAACG,GAAX,CAAiBlB,IAAI,CAACmB,CAAtB,CACAJ,UAAU,CAACK,IAAX,CAAkB,EAAlB,CACA,GAAGpB,IAAI,CAACiB,CAAL,GAAWI,SAAd,CAAwB,CACpB,IAAQnB,CAAR,CAAU,CAAV,CAAYA,CAAC,CAACF,IAAI,CAACiB,CAAL,CAAOd,MAArB,CAA4BD,CAAC,EAA7B,CAAgC,CAC5Ba,UAAU,CAACK,IAAX,CAAgBhB,IAAhB,CAAqB,CAACJ,IAAI,CAACiB,CAAL,CAAOf,CAAP,EAAUF,IAAI,CAACmB,CAAL,CAAOjB,CAAP,CAAX,EAAsB,CAA3C,EACH,CACJ,CACDM,aAAa,CAACO,UAAD,CAAb,CAfJ,yDADyF,qDAkBzFJ,kBAAkB,GACrB","sourcesContent":["import {useState} from 'react';\r\nimport { setSourceMapRange } from 'typescript';\r\n\r\nexport function RetrieveApiData(setSymbols:any){\r\n    async function retrieveData(){\r\n        const url:string = 'https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bukfm8n48v6s9fns403g';\r\n        let resp = await fetch(url);\r\n        let data = await resp.json();\r\n        let symbolObjects:Array<any> = [];\r\n        for(let i:number = 0; i < data.length; i++){\r\n            symbolObjects.push({symbol:data[i].symbol,description:data[i].description});\r\n        }\r\n        setSymbols(symbolObjects);\r\n    }\r\n    retrieveData();\r\n}\r\n\r\nexport function RetrieveSymbolData(setSymbolData:any,symbol:string,startDate:any,endDate:any){\r\n    async function retrieveSymbolData(){\r\n        startDate = Math.floor(startDate.getTime()/1000);\r\n        endDate = Math.floor(endDate.getTime()/1000);\r\n        const url:string = `https://finnhub.io/api/v1/stock/candle?symbol=${symbol}&resolution=D&from=${startDate}&to=${endDate}&token=bukfm8n48v6s9fns403g`;\r\n        let resp = await fetch(url);\r\n        let data = await resp.json();\r\n        let symbolData:any = {};\r\n        symbolData.low = data.l;\r\n        symbolData.hgh = data.h;\r\n        symbolData.curr = [];\r\n        if(data.l !== undefined){\r\n            for(let i=0;i<data.l.length;i++){\r\n                symbolData.curr.push((data.l[i]+data.h[i])/2);\r\n            }\r\n        }\r\n        setSymbolData(symbolData);\r\n    }\r\n    retrieveSymbolData();\r\n}"]},"metadata":{},"sourceType":"module"}